<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Envision BMC</title>

    <!-- React -->
    <!--script src="react-0.13.3/build/react.js"></script>
    <script src="react-0.13.3/build/JSXTransformer.js"></script-->
    <script src="https://fb.me/react-0.14.1.js"></script>
    <script src="https://fb.me/react-dom-0.14.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    

    <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
  </head>
  <body>
    
    <div id="view">
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100%" height="100%">
        <defs>
          <pattern id="smallGrid" width="10" height="10" patternUnits="userSpaceOnUse">
            <path d="M 10 0 L 0 0 0 10" fill="none" stroke="gray" stroke-width="0.5"/>
          </pattern>
          <pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse">
            <rect width="100" height="100" fill="url(#smallGrid)"/>
            <path d="M 100 0 L 0 0 0 100" fill="none" stroke="gray" stroke-width="1"/>
          </pattern>
          
            <filter
               id="filter4781">
              <feGaussianBlur
                 inkscape:collect="always"
                 stdDeviation="5.4601647"
                 id="feGaussianBlur4783" />
            </filter>

            <linearGradient id="yellowGradient"
               gradientUnits="userSpaceOnUse"
               gradientTransform="matrix(0.9999909,4.259636e-3,-4.259636e-3,0.9999909,-138.51945,-314.92834)"
               x1="461.18155" y1="363.74817" x2="200.96429" y2="608.07642" >
              <stop style="stop-color:rgb(247, 236, 154);stop-opacity:1;" offset="0" />
              <stop style="stop-color:rgb(246, 234, 141);stop-opacity:1;" offset="0.13400906"/>
              <stop style="stop-color:rgb(245, 233, 138);stop-opacity:1;" offset="0.45673525"/>
              <stop style="stop-color:rgb(248, 237, 157);stop-opacity:1;" offset="0.80933785"/>
              <stop style="stop-color:rgb(245, 233, 138);stop-opacity:1;" offset="1"/>
            </linearGradient>
            <linearGradient id="pinkGradient"
               gradientUnits="userSpaceOnUse"
               gradientTransform="matrix(0.9999909,4.259636e-3,-4.259636e-3,0.9999909,-138.51945,-314.92834)"
               x1="461.18155" y1="363.74817" x2="200.96429" y2="608.07642" >
              <stop style="stop-color:rgb(245, 20, 121);stop-opacity:1;" offset="0" />
              <stop style="stop-color:rgb(244, 18, 118);stop-opacity:1;" offset="0.13400906"/>
              <stop style="stop-color:rgb(243, 17, 111);stop-opacity:1;" offset="0.45673525"/>
              <stop style="stop-color:rgb(246, 21, 124);stop-opacity:1;" offset="0.80933785"/>
              <stop style="stop-color:rgb(243, 17, 111);stop-opacity:1;" offset="1"/>
            </linearGradient>
            <linearGradient id="greenGradient"
               gradientUnits="userSpaceOnUse"
               gradientTransform="matrix(0.9999909,4.259636e-3,-4.259636e-3,0.9999909,-138.51945,-314.92834)"
               x1="461.18155" y1="363.74817" x2="200.96429" y2="608.07642" >
              <stop style="stop-color:rgb(177, 245, 11);stop-opacity:1;" offset="0" />
              <stop style="stop-color:rgb(176, 243, 8);stop-opacity:1;" offset="0.13400906"/>
              <stop style="stop-color:rgb(175, 242, 1);stop-opacity:1;" offset="0.45673525"/>
              <stop style="stop-color:rgb(178, 246, 24);stop-opacity:1;" offset="0.80933785"/>
              <stop style="stop-color:rgb(175, 242, 1);stop-opacity:1;" offset="1"/>
            </linearGradient>
            <linearGradient id="blueGradient"
               gradientUnits="userSpaceOnUse"
               gradientTransform="matrix(0.9999909,4.259636e-3,-4.259636e-3,0.9999909,-138.51945,-314.92834)"
               x1="461.18155" y1="363.74817" x2="200.96429" y2="608.07642" >
              <stop style="stop-color:rgb(2, 177, 245);stop-opacity:1;" offset="0" />
              <stop style="stop-color:rgb(1, 175, 242);stop-opacity:1;" offset="0.13400906"/>
              <stop style="stop-color:rgb(0, 174, 235);stop-opacity:1;" offset="0.45673525"/>
              <stop style="stop-color:rgb(3, 178, 248);stop-opacity:1;" offset="0.80933785"/>
              <stop style="stop-color:rgb(0, 174, 235);stop-opacity:1;" offset="1"/>
            </linearGradient>
            <linearGradient id="purpleGradient"
               gradientUnits="userSpaceOnUse"
               gradientTransform="matrix(0.9999909,4.259636e-3,-4.259636e-3,0.9999909,-138.51945,-314.92834)"
               x1="461.18155" y1="363.74817" x2="200.96429" y2="608.07642" >
              <stop style="stop-color:rgb(168, 45, 156);stop-opacity:1;" offset="0" />
              <stop style="stop-color:rgb(167, 43, 153);stop-opacity:1;" offset="0.13400906"/>
              <stop style="stop-color:rgb(166, 42, 146);stop-opacity:1;" offset="0.45673525"/>
              <stop style="stop-color:rgb(169, 46, 159);stop-opacity:1;" offset="0.80933785"/>
              <stop style="stop-color:rgb(166, 42, 146);stop-opacity:1;" offset="1"/>
            </linearGradient>
          
        </defs>
      
        <rect width="100%" height="100%" fill="url(#grid)" />

        <!-- key partners -->
        <rect x="50" y="50" width="200" height="500" class="canvas-box"/>
        <text x="60" y="70">Key partners</text>
        
        <!-- key activities -->
        <rect x="250" y="50" width="200" height="250" class="canvas-box"/>
        <text x="260" y="70">Key activities</text>

        <!-- key resources -->
        <rect x="250" y="300" width="200" height="250" class="canvas-box"/>
        <text x="260" y="320">Key resources</text>
        
        <!-- value proposition -->
        <rect x="450" y="50" width="200" height="500" class="canvas-box"/>
        <text x="460" y="70">Value proposition</text>

        <!-- customer relationships -->
        <rect x="650" y="50" width="200" height="250" class="canvas-box"/>
        <text x="660" y="70">Customer relationships</text>

        <!-- channels -->
        <rect x="650" y="300" width="200" height="250" class="canvas-box"/>
        <text x="660" y="320">Channels</text>

        <!-- customer segments -->
        <rect x="850" y="50" width="200" height="500" class="canvas-box"/>
        <text x="860" y="70">Customer segments</text>

        <!-- cost structure -->
        <rect x="50" y="550" width="500" height="250" class="canvas-box"/>
        <text x="60" y="570">Cost structure</text>

        <!-- revenue streams -->
        <rect x="550" y="550" width="500" height="250" class="canvas-box"/>
        <text x="560" y="570">Revenue streams</text>
        
        <g id="canvas-content">
        </g>
        
        <!-- netflix: http://4.bp.blogspot.com/-CfYXJN7_yCM/UMUk6Ifn6iI/AAAAAAAAAnk/O4RHfXVX6GE/s1600/BusinessModelCanvas_Netflix.jpg -->
        <!--
        #f7ec9a; (247, 236, 154)  - color 1   - (245, 20, 121)  - (177, 245, 11)   - (2, 177, 245)  - (168, 45, 156)
        #f6ea8d; (246, 234, 141)  - color 2   - (244, 18, 118)  - (176, 243, 8)    - (1, 175, 242)  - (167, 43, 153)
        #f5e98a; (245, 233, 138)  - color 3   - (243, 17, 111)  - (175, 242, 1)    - (0, 174, 235)  - (166, 42, 146)
        #f8ed9d; (248, 237, 157)  - color 4   - (246, 21, 124)  - (178, 246, 24)   - (3, 178, 248)  - (169, 46, 159)
        -->            

      </svg>
    </div>
    
    <script type="text/babel">
      var PostIt = React.createClass({
        render: function() {
          var x = this.props.x;
          var y = this.props.y;
          var w = this.props.width;
          var h = this.props.height;
          
          var textX = x + 20;
          var textY = y + 20;
          var textW = w - 40;
          var textH = h - 40;
          var color = this.props.color;
          
          // the post it represented in SVG
          return <g>
            <svg id="postit" x={x} y={y} width={w} height={h} viewBox="0 0 400 400" preserveAspectRatio="none">
              <path
                transform="matrix(1.023139,4.259636e-3,-4.3582396e-3,0.9999909,-61.96631,-626.72303)"
                style={{opacity: 0.44782607, fill: "#000000", fillOpacity: 1, fillRule: "nonzero", stroke: "none",
                  strokeWidth: 0.5, strokeLinecap: "round", strokeLinejoin: "round",  markerStart: "none",
                  markerMid: "none", markerEnd: "none", strokeMiterlimit: 4, strokeDasharray: "0.5, 0.5",
                  strokeDashoffset: 0, strokeOpacity: 1, visibility: "visible", display: "inline", overflow: "visible",
                  filter: "url(#filter4781)", enableBackground: "accumulate"}}
                d="M 111.75321,670.22242 L 403.11505,668.79713 L 408.98012,953.08539 C 408.98012,953.08539 179.98847,949.25479 102.5,952.36219 C 109.84705,882.04726 111.75321,670.22242 111.75321,670.22242 z"
                id="post-it-shadow" />
              <path
                className="post-it"
                id="post-it"
                d="M 46.40954,37.510473 L 350.6925,38.806633 L 349.48153,323.08976 C 349.48153,323.08976 86.92175,328.861 50.98888,307.53239 C 43.48947,271.4709 46.40954,37.510473 46.40954,37.510473 z"
                style={{fill: "url(#" + color + "Gradient)", fillOpacity: 1, fillRule: "nonzero", stroke: "none",
                      strokeWidth: 0.5, strokeLinecap: "round", strokeLinejoin: "round", marker: "none", markerStart: "none",
                      markerMid: "none", markerEnd: "none", strokeMiterlimit: 4, strokeDasharray: "0.5, 0.5", strokeDashoffset: 0,
                      strokeOpacity: 1, visibility: "visible", display: "inline", overflow: "visible", enableBackground: "accumulate"}}/>
            </svg>
            <foreignObject x={textX} y={textY} width={textW} height={textH}>
              <body xmlns="http://www.w3.org/1999/xhtml">
                <div style={{display:"block", width:"100%", height: "90px", overflow:"hidden"}}>
                  {this.props.text}
                </div>
              </body>
            </foreignObject>
          </g>;

        }
      });
      
      
      var Canvas = React.createClass({
        render: function() {
          var postItNodes = this.props.postIts.map(function (postItData) {
            return <PostIt x={postItData.x} y={postItData.y} width={postItData.width} height={postItData.height} color={postItData.color} text={postItData.text}/>
          });
          
          return <g>
            {postItNodes}
          </g>;
        }
      });
      
      var data = [
        {x: 300, y: 300, width: 250, height: 150, color: "blue", text: "Movie stuff"},
        {x: 500, y: 300, width: 150, height: 150, color: "yellow", text: "Movie stuff"},
        {x: 700, y: 300, width: 150, height: 150, color: "yellow", text: "Movie stuff"},
        {x: 400, y: 100, width: 150, height: 150, color: "yellow", text: "Test stuff"}
      ];
      
      React.render(
        React.createElement(Canvas, {postIts: data}),
        document.getElementById("canvas-content")
      );
    </script>
  </body>
</html>